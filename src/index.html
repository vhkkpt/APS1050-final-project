<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Book Store</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-8 col-sm-push-2">
                <h1 class="text-center">Book Store</h1>
                <hr/>
                <br/>
            </div>
        </div>
        <!-- Add Book Form -->
        <div class="row justify-content-center">
            <div class="col-md-12">
                <form onsubmit="App.addBook($('#bookTitle').val(), $('#bookAuthor').val(), $('#bookCategory').val(), $('#bookPrice').val()); return false;" class="mt-3">
                    <div class="form-group">
                        <label for="bookTitle">Title:</label>
                        <input type="text" class="form-control" id="bookTitle" placeholder="Title" required>
                    </div>
                    <div class="form-group">
                        <label for="bookAuthor">Author:</label>
                        <input type="text" class="form-control" id="bookAuthor" placeholder="Author" required>
                    </div>
                    <div class="form-group">
                        <label for="bookPrice">Price (unit: wei):</label>
                        <input type="number" class="form-control" id="bookPrice" placeholder="Price" required>
                    </div>
                    <div class="form-group">
                        <label for="bookCategory">Category:</label>
                        <select class="form-control" id="bookCategory">
                            <option value="Novel">Novel</option>
                            <option value="Science">Science</option>
                            <option value="History">History</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary">Add Book</button>
                </form>
                <hr/>
                <br/>
            </div>
        </div>
        <!-- Book Selection -->
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="form-group">
                    <label for="categorySelect">Select a Category:</label>
                    <select id="categorySelect" class="form-control">
                        <option value="">All</option>
                        <option value="Novel">Novel</option>
                        <option value="Science">Science</option>
                        <option value="History">History</option>
                    </select>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label for="sortBySelect">Sorting by:</label>
                    <select id="sortBySelect" class="form-control">
                        <option value="ID">ID</option>
                        <option value="Price">Price</option>
                        <option value="Likes">Likes</option>
                    </select>
                </div>
            </div>
        </div>
        <div id="booksRow" class="row"></div>
        <!-- Book Template -->
        <div id="bookTemplate" style="display: none;">
            <div class="col-sm-6 col-md-4 col-lg-3">
                <div class="panel panel-default panel-book">
                    <div class="panel-heading">
                        <h3 class="panel-title"></h3>
                    </div>
                    <div class="panel-body">
                        <strong>Price (unit: wei)</strong>: <span class="book-price"></span><br/>
                        <strong>Author</strong>: <span class="book-author"></span><br/>
                        <strong>ID</strong>: <span class="book-id"></span><br/>
                        <strong>Category</strong>: <span class="book-category"></span><br/>
                        <strong>Owner</strong>: <span class="book-owner" style="word-break: break-all;"></span><br/>
                        <a href="#" class="like-link" style="margin-top: 5px; display: block;">
                            <span class="glyphicon glyphicon-thumbs-up"></span>
                            <span class="book-likes"></span>
                        </a>
                        <br/>
                        <button class="btn btn-primary btn-buy" type="button" data-id="0">Buy</button>
                        <!-- Comment Button -->
                        <button class="btn btn-default btn-comment" type="button" data-toggle="modal" data-target="#commentModal" data-id="0">Comment</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Comment Modal -->
        <div class="modal fade" id="commentModal" tabindex="-1" role="dialog" aria-labelledby="commentModalLabel">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title" id="commentModalLabel">Book Comments</h4>
                    </div>
                    <div class="modal-body">
                        <ul class="list-group" id="commentList"></ul>
                        <input type="text" id="newComment" class="form-control" placeholder="Write a comment...">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary" id="submitComment">Submit Comment</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- jQuery and Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/web3.min.js"></script>
    <script src="js/truffle-contract.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
